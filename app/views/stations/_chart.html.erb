<script type="text/javascript" chartset="utf-8">
  var chart;
$(document).ready(function() {
   chart = new Highcharts.Chart({
      chart: {
         renderTo: 'temperature_chart',
         defaultSeriesType: 'line',
      },
      title: {
         text: 'Temperature vs. Cloud Density',
         x: -20 //center
      },
      yAxis: [{ // Primary yAxis
         labels: {
            formatter: function() {
               return this.value +'Â°C';
            },
         },
         title: {
            text: 'Temperature',
         }
      }, { // Secondary yAxis
         title: {
            text: 'Cloud Density',
         },
         labels: {
            formatter: function() {
               return this.value +' %';
            },
         },
         opposite: true
      }],
      tooltip: {
         formatter: function() {
            return ''+
               this.x +': '+ this.y +
               (this.series.name == 'Cloud Density' ? ' %' : '%');
         }
      },
      series: [{
         pointInterval: <%= 1.hour * 1000 %>,
         pointStart: <%= @all_times.first * 1000 %>,
         name: "Temperature",
         type: 'column',
         yAxis: 1,
         data: [<%= @all_temps %>]
      }, {
        pointInterval: <%= 1.hour * 1000 %>,
        pointStart: <%= @all_times.first * 1000 %>,
        name: "Cloud coverage",
        data: [<%= @all_clouds %>]
      }]
   });
});
</script>